@model RoverController.Web.ViewModels.UserViewModel

@using (Html.BeginForm(ViewBag.Action as string, "Users", FormMethod.Post, new { @class = "form-horizontal", role = "form", id = "modalForm" }))
{
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.ClientId)
    @Html.HiddenFor(m => m.PrimaryClientId)

    Html.RenderPartial("~/Views/Account/pvRegisterUserFormFields.cshtml", Model);

    <div class="form-group mb-3">
        <div class="row">
            <div class="col-lg-6 mb-3">
                @Html.LabelFor(m => m.RoleName, new { @class = "control-label" })
                @Html.DropDownListFor(m => m.RoleName, new SelectList(ViewBag.RolesList, "Key", "Value"), "", htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.RoleName, "", new { @class = "text-danger help-block small" })
            </div>
        </div>
    </div>
}

@Scripts.Render("~/bundles/jqueryval")

@if (Model.Id.IsEmpty())
{
    <script>
    $(document).ready(function () {
            $("#@Html.IdFor(m=>m.Password)").rules("add", {
                required: true,
                messages: { required: 'The Password field is required.' }
            });
        });
    </script>
}